<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Meta -->
    <meta name="description" content="Premium Quality and Responsive UI for Dashboard.">
    <meta name="author" content="ThemePixels">

    <title>聚视后台</title>

    <!-- vendor css -->
    <link href="../../lib/2018/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="../../lib/2018/Ionicons/css/ionicons.css" rel="stylesheet">
    <link href="../../lib/2018/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet">
    <link href="../../lib/2018/jquery-switchbutton/jquery.switchButton.css" rel="stylesheet">
    <link href="../../lib/2018/highlightjs/github.css" rel="stylesheet">
    <!--<link href="../../lib/2018/morris.js/morris.css" rel="stylesheet">-->
    <!--<link href="../../lib/2018/datatables/jquery.dataTables.css" rel="stylesheet">-->
    <link href="../../lib/2018/select2/css/select2.min.css" rel="stylesheet">
    <!--<link href="../../lib/2018/jt.timepicker/jquery.timepicker.css" rel="stylesheet">-->
    <!-- Bracket CSS -->
    <link rel="stylesheet" href="../../style/2018/bracket.css">  
    <link rel="stylesheet" href="../../style/2018/common.css">
    
    
  </head>
  <style>
  	html,body{
  		width: 100%;
  		height: 100%;
  	}
  	label{
  		margin-bottom: 0;
  	}
  </style>
  <body class="" >
 
    <div class="bg-white modal-box">
      <div class="ht-60 pd-x-20 bg-gray-200 rounded d-flex align-items-center justify-content-center">
        <ul id="form_nav" class="nav nav-outline align-items-center flex-row" role="tablist">
          <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#" role="tab">基本信息</a></li>
          <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#" role="tab">基本属性</a></li>          
        </ul>        
        <ul id="" class="mg-l-10 add-group list-inline" >          
          <li class=""><a id="" class="" href="javascript:;" role="tab"><i class="fa fa-plus-circle mg-r-2 tx-black"></i>添加组</a></li>
        </ul>        
      </div>
	    <div class="modal-body pd-20 overflow-y-auto">
	        <div class="config-box">
	       	  <ul>
	       	  	<!--基本信息-->
	       		  <li class="block">
	       		  	<div class="bd">	       		  		
		       		  	<table class="table mg-b-0 templet-table">
				            <thead>
				              <tr>	               
				                <th class="tx-12-force tx-mont tx-medium wd-110">名称</th>
				                <th class="tx-12-force tx-mont tx-medium hidden-xs-down wd-130">字段名</th>
				                <th class="tx-12-force tx-mont tx-medium hidden-xs-down">字段样式</th>			                          
				                <th class="tx-12-force tx-mont tx-medium hidden-xs-down wd-100">操作</th>	               
				              </tr>
				            </thead>
				            <tbody class="handle-list">
				              <tr>	                
				                <td><span class="pd-l-5">标题</span></td>
				                <td class="hidden-xs-down">Title</td>
				                <td class="hidden-xs-down">
				                	<label class="wd-300">
						                <input class="form-control" placeholder="" type="text">
						              </label>
				                </td>	                			                
				                <td class=" hidden-xs-down">
				                	<a href="javascript:;" class="mg-r-10 drag-handle"><i class="fa fa-arrows tx-20" aria-hidden="true"></i> </a>
				                  <a href="javascript:editField();" class="drag-handle"><i class="fa fa-pencil-square-o tx-20" aria-hidden="true"></i> </a>           			                        
				                </td>
				              </tr>
				              <tr>	                
				                <td><span class="pd-l-5">摘要</span></td>
				                <td class="hidden-xs-down">Summary</td>
				                <td class="hidden-xs-down">
				                	<div class="col-lg pd-l-0 pd-r-0 wd-300">
							              <textarea rows="2" class="form-control" placeholder=""></textarea>
							            </div>
				                </td>	                			                
				                <td class=" hidden-xs-down">
				                	<a href="javascript:;" class="mg-r-10 drag-handle"><i class="fa fa-arrows tx-20" aria-hidden="true"></i> </a>
				                  <a href="javascript:editField();"><i class="fa fa-pencil-square-o tx-20" aria-hidden="true"></i> </a>           			                        
				                </td>
				              </tr>			
				            </tbody>
				          </table>
				          
	       		  	</div>
	       	
	       		  </li>
       	      <!--拓展信息-->
       	      <li>
       		  	  <div class="bd">	       		  		
		       		  	<table class="table mg-b-0 templet-table">
				            <thead>
				              <tr>	               
				                <th class="tx-12-force tx-mont tx-medium wd-110">名称</th>
				                <th class="tx-12-force tx-mont tx-medium hidden-xs-down wd-130">字段名</th>
				                <th class="tx-12-force tx-mont tx-medium hidden-xs-down">字段样式</th>			                          
				                <th class="tx-12-force tx-mont tx-medium hidden-xs-down wd-100">操作</th>	               
				              </tr>
				            </thead>
				            <tbody class="handle-list">
				              <tr>	                
				                <td><span class="pd-l-5">标题2</span></td>
				                <td class="hidden-xs-down">Title</td>
				                <td class="hidden-xs-down">
				                	<label class="wd-300">
						                <input class="form-control" placeholder="" type="text">
						              </label>
				                </td>	                			                
				                <td class=" hidden-xs-down">
				                	<a href="javascript:;" class="mg-r-10 drag-handle"><i class="fa fa-arrows tx-20" aria-hidden="true"></i> </a>
				                  <a href="javascript:editField();" class="drag-handle"><i class="fa fa-pencil-square-o tx-20" aria-hidden="true"></i> </a>           			                        
				                </td>
				              </tr>
				              <tr>	                
				                <td><span class="pd-l-5">摘要2</span></td>
				                <td class="hidden-xs-down">Summary</td>
				                <td class="hidden-xs-down">
				                	<div class="col-lg pd-l-0 pd-r-0 wd-300">
							              <textarea rows="2" class="form-control" placeholder=""></textarea>
							            </div>
				                </td>	                			                
				                <td class=" hidden-xs-down">
				                	<a href="javascript:;" class="mg-r-10 drag-handle"><i class="fa fa-arrows tx-20" aria-hidden="true"></i> </a>
				                  <a href="javascript:editField();"><i class="fa fa-pencil-square-o tx-20" aria-hidden="true"></i> </a>           			                        
				                </td>
				              </tr>			
				            </tbody>
				          </table>
				          
	       		  	</div>
	       	
	       		  </li>
	       		  
	       	  </ul>
	        </div>
	                   
	    </div><!-- modal-body -->
      <div class="btn-box" >
      	<div class="modal-footer" >
      		<button type="button" class="btn btn-primary tx-size-xs">添加字段</button>
		      <button type="button" class="btn btn-primary tx-size-xs">修改组信息</button>
		      <button type="button"  class="btn btn-primary tx-size-xs">删除本组</button>
		    </div> 
      </div>
	    
	     
    </div><!-- br-mainpanel -->
    <!-- ########## END: MAIN PANEL ########## -->

    <script src="../../lib/2018/jquery/jquery.js"></script>
    <script src="../../lib/2018/popper.js/popper.js"></script>
    <script src="../../lib/2018/bootstrap/bootstrap.js"></script>
    <script src="../../lib/2018/perfect-scrollbar/js/perfect-scrollbar.jquery.js"></script>
    <script src="../../lib/2018/moment/moment.js"></script>
    <script src="../../lib/2018/jquery-ui/jquery-ui.js"></script>
    <script src="../../lib/2018/jquery-switchbutton/jquery.switchButton.js"></script>
    <script src="../../lib/2018/peity/jquery.peity.js"></script>

    <script src="../../lib/2018/select2/js/select2.min.js"></script>
    
    <script src="../../common/2018/Sortable.min.js"></script>
    <script src="../../common/2018/bracket.js"></script>
    
    <script>
    	
    	function editField(){
      		var url = "editfield.html";
			  	var	dialog = new top.TideDialog();
					dialog.setWidth(600);
					dialog.setHeight(550);
					dialog.setUrl(url);
					dialog.setTitle('添加分组');
					dialog.setChannelName('');
					dialog.show();
    	}
    	
    	
    	
    	
    	
    	
      $(function(){
      	//表单组切换
      	$("#form_nav").delegate("li","click",function(){
      		var _index = $(this).index();
      		console.log(_index)
      		$(".config-box ul li").removeClass("block").eq(_index).addClass("block");
      		initSort();
      	});
      	
      	//新增字段组
        $(".add-group a").click(function(){      		
          
          addGroup();  //应该是弹窗后输入组名，点击确定后创建，我直接跳过弹窗，添加组徐需要的html都有示例
          
//        var url = "new-group.html";
//			  	var	dialog = new top.TideDialog();
//					dialog.setWidth(500);
//					dialog.setHeight(350);
//					dialog.setUrl(url);
//					dialog.setTitle('添加分组');
//					dialog.setChannelName('');
//					dialog.show();
	      		
      	})
        
        function addGroup(){
        	var groupHtml ='<li>' +
                '<div class="bd">	'+
		       		  	'<table class="table mg-b-0 templet-table">'+
				            '<thead>'+
				              '<tr>'+	               
				                '<th class="tx-12-force tx-mont tx-medium">名称</th>'+
				                '<th class="tx-12-force tx-mont tx-medium hidden-xs-down">字段名</th>'+
				                '<th class="tx-12-force tx-mont tx-medium hidden-xs-down">字段样式</th>	'	+	                          
				                '<th class="tx-12-force tx-mont tx-medium hidden-xs-down wd-100">操作</th>	'     +          
				              '</tr>'+
				            '</thead>'+
				            '<tbody class="handle-list">'+
				            '</tbody>'+
				          '</table>'+				          
	       		  	'</div>'+
	       		  '</li>'  ;
        	var groupNameHtml = '<li class="nav-item"><a class="nav-link" data-toggle="tab" href="#" role="tab">组3</a></li>' ;
        	$(".config-box ul").append(groupHtml) ;
        	$("#form_nav").append(groupNameHtml) ;
        	
        }
        
       	//推荐设置锁定图片切换
	      $(".lock-unlock").click(function(){    
	       	var textBox = $(this).parent(".row").find(".textBox") ;       	
	       	if($(this).find("i").hasClass("fa-lock")){      	 
	       	 	$(this).find("i").removeClass("fa-lock").addClass("fa-unlock");       	 	
	       	 	textBox.removeAttr("disabled","").removeClass("disabled")
	       	}else{      	 	
	       	 	$(this).find("i").removeClass("fa-unlock").addClass("fa-lock");
	       	 	textBox.attr("disabled",true).addClass("disabled")
	       	}
	      });
	      
	      //函数，需要分开初始化，
	      initSort();
	      function initSort(){
	      	var activeTable = $("li.block table tbody").get(0);
		      Sortable.create(activeTable, {
						handle: '.drag-handle',
						animation: 150 ,
						onUpdate:function(evt){
							
						}
					});
	      }
      


		   
      });
    </script>
  </body>
</html>
