[#set($i=0)
#foreach( $item in $Controller.listTopItems($rows))#if($i>0),#end #set($i=$i+1)
{"Title":"$item.getTitle()","onlinetime":"$item.getValue("onlinetime").replace(".0","")","Revoketime":"$item.getValue("Revoketime").replace(".0","")","position":"$item.getValue("position")","listposition":$item.getIntValue("listposition"),"item_type":"$item.getValue("item_type")","Photo":"$item.getValue("Photo")","Photo1":"$item.getValue("Photo1")","Photo2":"$item.getValue("Photo2")","href":"$item.getValue("href")","dropchannel_id":"$item.getValue("dropchannel_id")","dropchannel_name":"$item.getValue("dropchannel_name")","id":"$item.getId()","recommen":#if($item.getChannel().getSerialNo().indexOf('module_recommen')!=-1)true #else false #end,"advert":#if($item.getChannel().getSerialNo().indexOf('advert')!=-1)true #else false #end,"list":#if($item.getChannel().getSerialNo().indexOf('module_recommen')!=-1)<!--\#include virtual="$item.getValue("href").replace("list_1_0","good_recommen")" -->#else""#end,"notice":#if($item.getChannel().getSerialNo().indexOf('notice')!=-1)true #else false #end,"noticelist":[#set($ii=0)#foreach($subitem  in $item.listLinkChildItems(15894))#if($ii>0),#end{"title":"$util.JSQuote($subitem.getTitle())","photo":"$subitem.getValue('Photo')","contentUrl":#if($subitem.getValue("doc_type")==3||$subitem.getValue("doc_type")==7)"$subitem.getValue("href_app")"#elseif($subitem.getValue("doc_type")==2)"$subitem.getFullHref('pic')"#else"$subitem.getFullHref('app')"#end,"globalid":"$subitem.getGlobalID()"}#set($ii=$ii+1)#end]
}#end]
