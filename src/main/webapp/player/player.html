<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <title>H5版本通用播放器演示</title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-size: 14px;
        }
        
        .player {
            width: 700px;
            height: 480px;
            margin: 30px;
        }
        
        .main {
            display: flex;
        }
        
        .list {
            width: 50%;
            background: rgba(0, 0, 0, 0.05);
        }
        
        .list p {
            margin: 10px;
            padding: 10px;
            border-bottom: 1px solid #ccc;
        }
        
        .param {
            clear: both;
        }
    </style>
    <script src="http://cdn.staticfile.org/jquery/3.0.0/jquery.min.js"></script>
    <script src="js/tidePlayer.js"></script>
</head>

<body>
    <h1>v1.4.10</h1>
    <div class="main">
        <div class="list">
            <p>标准点播播放器，JSON地址传递为明文地址 <button onclick="showPlayer(1)">点击展示</button></p>
            <p>标准点播播放器，JSON地址传递为加密地址(带片前、暂停广告) <button onclick="showPlayer(2)">点击展示</button></p>
            <p>标准直播播放器，通过video参数传递明文M3U8地址 <button onclick="showPlayer(3)">点击展示</button></p>
            <p>标准直播播放器，通过video参数传递加密M3U8地址 <button onclick="showPlayer(4)">点击展示</button></p>
            <p>播放器带音频柱 <button onclick="showPlayer(5)">点击展示</button></p>
        </div>
        <div class="shows">
            <div class="player" id="showplayerbox">
            </div>
            <div class="code"></div>
        </div>

    </div>

    <div class="param">
        <h3>参数说明：</h3>
        <pre>
			/*
			* 参数说明：
			* json			必须	播放信息JSON地址或者JSON对象数据
			* callback		可选	JSONP调用的callback字段名，默认为funcname
			* video 		可选	如果仅作为播放某个视频的播放器，则只传video参数即可
			* width			可选	播放器宽，如果外部有标签，100%则贴合外部标签样式，默认800px
			* height		可选	播放器高，如果外部有标签，100%则贴合外部标签样式，默认600px
			* recommand		可选	相关推荐视频列表接口地址
			* channel		可选	广告位ID，不设置表示没有广告，替换到广告接口的{CHANNEL}
			* autoplay		可选	是否自动播放，默认为不自动播放
			* divid			可选	设置一个标签的ID，播放器将写入指定的标签
			* id 			可选	播放器的全局ID，默认系统将分配一个
			* noad 			可选	当为true的时候将不显示广告
			* userCall 		可选	判断当前是否需要显示关闭广告（财新已经内部配置，不需要单独设置）
			* adshowtype	可选	广告字样显示方式，1-只显示广告字样 2-同时显示倒计时
			* playCall 		可选	播放判断函数，判断是否能开始播放
			* waveform		可选	是否显示音频柱，默认为false
			* speed			可选	是否显示倍速选项，默认为false
			* vol			可选	初始音量，0-100，默认100
			* bigPlay		可选	是否显示大播放按钮，默认显示
			* minimize		可选	传递初始化小窗播放的函数名称，如果不传则不会有小窗播放效果
			* nomse			可选	当为手机设备的时候不启用MSE的hls.js
			* playRate		可选	初始的视频播放速度，默认1.0x
			* 
			**/
		</pre>
    </div>

    <script>
        var _player;

        function showPlayer(t) {

            if (_player) {
                try {
                    _player.destroy();
                } catch (e) {}
            }
            $('#showplayerbox').empty();

            switch (t) {
                case 1:
                    _player = new tidePlayer({
                        json: "http://app.qguiyang.com/api/vmsVideo.php?GlobalID=2137615",
                        speed: true,
                        divid: "showplayerbox"
                    });
                    break;
                case 2:
                    _player = new tidePlayer({
                        json: "aHR0cDovL2FwcC5xZ3VpeWFuZy5jb20vYXBpL3Ztc1ZpZGVvLnBocD9HbG9iYWxJRD0yMTM3NjE1",
                        callback: "funcname",
                        channel: "ad.json",
                        bigPlay: false,
                        divid: "showplayerbox"
                    });
                    break;
                case 3:
                    _player = new tidePlayer({
                        video: "http://111.202.12.159:8080/kYGHWzA/1000/live.m3u8",
                        divid: "showplayerbox",
                        autoplay: true,
                        nomse: true
                    });
                    break;
                case 4:
                    _player = new tidePlayer({
                        video: "aHR0cCUzQS8vMTExLjIwMi4xMi4xNTklM0E4MDgwL2tZR0hXekEvMTAwMC9saXZlLm0zdTg=",
                        divid: "showplayerbox"
                    });
                    break;
                case 5:
                    _player = new tidePlayer({
                        width: "100%",
                        height: "100%",
                        video: "http://111.202.12.159:8080/kYGHWzA/1000/live.m3u8",
                        waveform: true,
                        divid: "showplayerbox"
                    });
                    break;
            }

        }
    </script>

</body>

</html>